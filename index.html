<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dicestack88's Zone</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&family=Segoe+UI:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- Intro Panel (User scrolls a bit to reveal full content; no button here) -->
  <section class="panel intro bg1">
    <div class="content">
      <div class="text-block">
        <h1 class="reveal-text">ðŸ˜Ž The OFFICIAL Dicestack88 Website ðŸ˜Ž</h1>
        <p class="reveal-text">Welcome to the zone. Scroll down to explore everything cinematic and mysterious.</p>
      </div>
    </div>
  </section>

  <!-- Chapter Panels (with buttons on left/right alternating) -->
  <section class="panel bg2">
    <div class="content">
      <div class="btn-wrapper">
        <button class="btn">Example Button 1</button>
      </div>
      <div class="text-block">
        <h2 class="reveal-text">Section Title 1</h2>
        <p class="reveal-text">Text goes here. Replace this with your actual description later.</p>
      </div>
    </div>
  </section>

  <section class="panel bg3">
    <div class="content">
      <div class="btn-wrapper">
        <button class="btn">Example Button 2</button>
      </div>
      <div class="text-block">
        <h2 class="reveal-text">Section Title 2</h2>
        <p class="reveal-text">Text goes here. Replace this with your actual description later.</p>
      </div>
    </div>
  </section>

  <section class="panel bg4">
    <div class="content">
      <div class="btn-wrapper">
        <button class="btn">Example Button 3</button>
      </div>
      <div class="text-block">
        <h2 class="reveal-text">Section Title 3</h2>
        <p class="reveal-text">Text goes here. Replace this with your actual description later.</p>
      </div>
    </div>
  </section>

  <!-- Fixed Time -->
  <div class="datetime" id="datetime"></div>

  <!-- Scripts for Cinematic Effects -->
  <script src="https://cdn.jsdelivr.net/npm/@studio-freight/lenis@1.0.42/dist/lenis.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
  <script src="https://unpkg.com/split-type@0.3.4/umd/index.min.js"></script>

  <script>
    // Smooth Scrolling with Lenis
    const lenis = new Lenis({
      duration: 1.2,
      easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
      smoothWheel: true
    });
    function raf(time) {
      lenis.raf(time);
      requestAnimationFrame(raf);
    }
    requestAnimationFrame(raf);

    // GSAP Setup
    gsap.registerPlugin(ScrollTrigger);

    // Sync Lenis with ScrollTrigger
    ScrollTrigger.scrollerProxy(document.body, {
      scrollTop(value) {
        return arguments.length ? lenis.scrollTo(value, { immediate: true }) : lenis.scroll;
      },
      getBoundingClientRect() {
        return { top: 0, left: 0, width: window.innerWidth, height: window.innerHeight };
      }
    });
    lenis.on('scroll', ScrollTrigger.update);
    ScrollTrigger.defaults({ scroller: document.body });

    // Pin Panels for Cinematic Transitions
    gsap.utils.toArray('.panel').forEach((panel, i) => {
      ScrollTrigger.create({
        trigger: panel,
        start: 'top top',
        end: '+=100%',
        pin: true,
        pinSpacing: false, // No extra gaps
        scrub: 1
      });

      // Parallax Background
      gsap.to(panel, {
        '--parallax-y': '20%',
        ease: 'none',
        scrollTrigger: {
          trigger: panel,
          start: 'top bottom',
          end: 'bottom top',
          scrub: true
        }
      });
    });

    // Letter-by-Letter Reveal
    document.querySelectorAll('.reveal-text').forEach(text => {
      const split = new SplitType(text, { types: 'chars' });
      gsap.from(split.chars, {
        opacity: 0,
        y: 50,
        rotation: 10,
        stagger: 0.02,
        duration: 0.8,
        ease: 'power3.out',
        scrollTrigger: {
          trigger: text.closest('.panel'),
          start: 'top center',
          end: 'bottom center',
          scrub: true
        }
      });
    });

    // Update Time
    function updateTime() {
      document.getElementById('datetime').textContent = new Date().toLocaleString();
    }
    setInterval(updateTime, 1000);
    updateTime();
  </script>

</body>
</html>
